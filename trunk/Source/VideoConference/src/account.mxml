<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" 
			   width="1200" height="620" backgroundAlpha="0"
			   chromeColor="#FFFFFF" pageTitle="DMC Flex Conference" initialize="initApp()">
	
	<fx:Script>
		<![CDATA[
			import component.Message;
			
			import flash.net.navigateToURL;
			
			import model.AppModel;
			
			import mx.events.FlexEvent;
			import mx.managers.PopUpManager;
			import mx.rpc.events.FaultEvent;
			import mx.rpc.events.ResultEvent;
			
			import object.User;

			public var mySO:SharedObject;
			protected function Label_logOut_clickHandler(event:MouseEvent):void //Log out tài khoản và trở về TrangChu
			{
				mySO.clear();
				AppModel.getInstance().navigate("home.html");
			}
						
			protected function save_clickHandler(event:MouseEvent):void
			{

				
			}
			
			protected function cancel_clickHandler(event:MouseEvent):void
			{
				PopUpManager.removePopUp(this);	
			}
			
			protected function initApp():void
			{
				mySO = SharedObject.getLocal("info","/");
				if(mySO.data.user == null)
					AppModel.getInstance().navigate("home.html");
				ro.getUserById(mySO.data.user);
				txt_full_name.setFocus();
			}
			
			protected function UpdateInfo_result(event:ResultEvent):void
			{
				Message.show("Your information was updated",Message.Information,this);
			}
			protected function error(event:FaultEvent):void
			{
				Message.show(event.fault.faultString,Message.Error,this);
			}
			
			protected function getUserById_result(event:ResultEvent):void
			{
				var user:User = event.result as User;
				txt_current_user.text = user.user_name;
				txt_current_email.text = user.email;
				txt_full_name.text = user.fullname;
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
		<s:RemoteObject id="ro" destination="UserService">
			<s:method name="getUserById" result="getUserById_result(event)" fault="error(event)"/>
			<s:method name="updateInfo" result="UpdateInfo_result(event)" fault="error(event)"/>
		</s:RemoteObject>
	</fx:Declarations>
	
	<fx:Style source="conferenceSkin.css"/>
	
	<s:BorderContainer verticalCenter="1" horizontalCenter="1"> 
		<s:borderStroke> 
			<mx:SolidColorStroke 
				color="black" 
				weight="3"/> 
		</s:borderStroke>
		
		<s:VGroup paddingBottom="20" paddingLeft="20" paddingRight="20" paddingTop="20">
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="Full name :"  width="130" fontWeight="bold"/>
				<s:TextInput id="txt_full_name" tabIndex="1"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="Current Username:"  width="130" fontWeight="bold"/>
				<s:TextInput id="txt_current_user" tabIndex="2"/>
			</s:HGroup>

			<s:HGroup verticalAlign="middle">
				<s:Label text="New Username: " fontWeight="bold" width="130" />
				<s:TextInput id="txt_new_user" tabIndex="3"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="Current Password: "  fontWeight="bold" width="130"/>
				<s:TextInput id="txt_current_pass" tabIndex="4" displayAsPassword="true"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle"> 
				<s:Label text="New Password: " fontWeight="bold" width="130"/>
				<s:TextInput id="txt_new_pass" tabIndex="5" displayAsPassword="true"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle"> 
				<s:Label text="Confirm Password: " fontWeight="bold" width="130"/>
				<s:TextInput id="txt_confirm_pass" tabIndex="6" displayAsPassword="true"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="Current Email: " fontWeight="bold" width="130"/>
				<s:TextInput id="txt_current_email"  tabIndex="7"/>	
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="New Email: " fontWeight="bold"  width="130"/>
				<s:TextInput id="txt_new_email"  tabIndex="8"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="Subscriptions: "  fontWeight="bold"  width="130"/>
				<s:VGroup horizontalAlign="center">
					<s:Label text="Free" width="70" height="30" fontSize="16" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
					<s:RadioButton id="free" selected="true" value="1"/>
				</s:VGroup>
				<s:VGroup horizontalAlign="center">
					<s:Label text="Basic" width="70" height="30" fontSize="16" fontWeight="bold"  backgroundColor="#000000" color="#FFFFFF" textAlign="center" verticalAlign="middle"/>
					<s:RadioButton id="basic"/>
				</s:VGroup>
				<s:VGroup horizontalAlign="center">
					<s:Label text="Gold" width="70" height="30" fontSize="16" fontWeight="bold"  backgroundColor="#000000" color="#FFFF00" textAlign="center" verticalAlign="middle"/>
					<s:RadioButton id="gold"/>
				</s:VGroup>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle">
				<s:Label text="Avatar "  fontWeight="bold" width="130"/>
				<s:Image source="@Embed(source='images/avatar.png')" />
				<s:Button id="computer"  label="Computer"/>
			</s:HGroup>
			
			<s:HGroup verticalAlign="middle" horizontalAlign="center" width="100%">
				<s:Label id="save" text="Save Changes" width="103" height="30" fontWeight="bold" textAlign="center" verticalAlign="middle" backgroundColor="#000000" color="#FFFFFF" useHandCursor="true" buttonMode="true" mouseChildren="false" click="save_clickHandler(event)"/>
				<s:Label id="cancel" text="Cancel" width="60" height="30" fontWeight="bold" textAlign="center" verticalAlign="middle" backgroundColor="#000000" color="#FFFFFF" useHandCursor="true" buttonMode="true" mouseChildren="false" click="cancel_clickHandler(event)"/>	
			</s:HGroup>
		</s:VGroup>
	</s:BorderContainer> 
	
<!--	<s:Image x="375" y="55" width="450" height="510" source="@Embed(source='images/boder5.png')"/>
	
	<s:Label x="414" y="90" text="Current Username:" height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="432" y="120" text="New Username: " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="415" y="151" text="Current Password: " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="434" y="181" text="New Password: " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="443" y="211" text="Current Email: " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="461" y="240" text="New Email: " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="440" y="280" text="Subscriptions: " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="486" y="372" text="Avatar " height="22" fontWeight="bold" textAlign="center" verticalAlign="middle"/>
	<s:Label x="553" y="280" text="Free" width="70" height="30" fontSize="16" fontWeight="bold" textAlign="center" verticalAlign="middle" />
	<s:Label x="631" y="280" text="Basic" width="70" height="30" fontSize="16" fontWeight="bold" textAlign="center" verticalAlign="middle" backgroundColor="#000000" color="#FFFFFF"/>
	<s:Label x="709" y="280" text="Gold" width="70" height="30" fontSize="16" fontWeight="bold" textAlign="center" verticalAlign="middle" backgroundColor="#000000" color="#FFFF00"/>
	
	<s:RadioButton id="free" x="583" y="318" selected="true" value="1"/>
	<s:RadioButton id="basic" x="661" y="318"/>
	<s:RadioButton id="gold" x="738" y="318"/>
	
	<s:TextInput id="txt_new_pass" x="551" y="180" tabIndex="3"/>
	<s:TextInput id="txt_current_email" x="551" y="210"  tabIndex="4"/>	
	<s:TextInput id="txt_new_email" x="552" y="240" tabIndex="5"/>
	<s:TextInput id="txt_current_pass" x="551" y="150" tabIndex="2"/>
	<s:TextInput id="txt_current_user" x="551" y="90" tabIndex="0"/>
	<s:TextInput id="txt_new_user" x="551" y="120" tabIndex="1"/>
	
	<s:Image x="553" y="354" width="126" height="126" source="@Embed(source='images/avatar.png')"/>
	
	<s:Button id="computer" x="709" y="372" label="Computer"/>
	
	<s:Label id="save" x="512" y="504" text="Save Changes" width="103" height="30" fontWeight="bold" textAlign="center" verticalAlign="middle" backgroundColor="#000000" color="#FFFFFF" useHandCursor="true" buttonMode="true" mouseChildren="false" click="save_clickHandler(event)"/>
	<s:Label id="cancel" x="629" y="504" text="Cancel" width="60" height="30" fontWeight="bold" textAlign="center" verticalAlign="middle" backgroundColor="#000000" color="#FFFFFF" useHandCursor="true" buttonMode="true" mouseChildren="false" click="save_clickHandler(event)"/>
-->		
</s:Application>
